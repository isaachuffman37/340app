<% if (title) { %>
    <h1><%= title %></h1>
    <% } else {
      res.redirect('/')
} %>

<%- messages() %>
<% if (errors) { %>
    <ul class="notice">
   <% errors.array().forEach(error => { %>
     <li><%= error.msg %></li>
  <%  }) %>
   </ul>
<% } %>

<div class="form-container">
    <form action="/inv/add-inventory" method="POST" class="vehicle-form">

      <!-- Classification (Select Dropdown) -->
      <div class="form-group">
        <label for="classificationList">Classification</label>
        <%- classSelect %>
      </div>

      <!-- Make -->
      <div class="form-group">
        <label for="inv_make">Make</label>
        <input 
          type="text" 
          id="inv_make" 
          name="inv_make" 
          required 
          pattern="[A-Za-z]+" 
          title="Only alphabetic characters are allowed."
          placeholder="Enter the make"
          value ="<%= locals.inv_make %>">
      </div>

      <!-- Model -->
      <div class="form-group">
        <label for="inv_model">Model</label>
        <input 
          type="text" 
          id="inv_model" 
          name="inv_model" 
          required 
          pattern="[A-Za-z0-9 ]+" 
          title="Only alphanumeric characters are allowed."
          placeholder="Enter the model"
          value ="<%= locals.inv_model %>">
      </div>

      <!-- Year -->
      <div class="form-group">
        <label for="inv_year">Year</label>
        <input 
          type="number" 
          id="inv_year" 
          name="inv_year" 
          required 
          min="1000" 
          max="9999" 
          title="Year must be a 4-digit number."
          placeholder="Enter the year"
          value ="<%= locals.inv_year %>">
      </div>

      <!-- Description -->
      <div class="form-group">
        <label for="inv_description">Description</label>
        <textarea 
          id="inv_description" 
          name="inv_description" 
          rows="4" 
          required
          placeholder="Enter a description"><%- locals.inv_description %></textarea>
      </div>

      <!-- Image Link -->
      <div class="form-group">
        <label for="inv_image">Image Link</label>
        <input 
          type="text" 
          id="inv_image" 
          name="inv_image" 
          required
          placeholder="Enter the image URL"
          value ="<%- locals.inv_image || '/images/vehicles/no-image.png' %>">
      </div>

      <!-- Thumbnail Link -->
      <div class="form-group">
        <label for="inv_thumbnail">Thumbnail Link</label>
        <input 
          type="text" 
          id="inv_thumbnail" 
          name="inv_thumbnail" 
          required
          placeholder="Enter the thumbnail URL"
          value ="<%- locals.inv_thumbnail || '/images/vehicles/no-image-tn.png' %>">
      </div>

      <!-- Price -->
      <div class="form-group">
        <label for="inv_price">Price</label>
        <input 
          type="number" 
          id="inv_price" 
          name="inv_price" 
          required 
          max="999999999" 
          title="Price must be an integer no longer than 9 digits."
          placeholder="Enter the price"
          value ="<%= locals.inv_price %>">
      </div>

      <!-- Miles -->
      <div class="form-group">
        <label for="inv_miles">Miles</label>
        <input 
          type="number" 
          id="inv_miles" 
          name="inv_miles" 
          required 
          title="Miles must be an integer."
          placeholder="Enter the miles"
          value ="<%= locals.inv_miles %>">
      </div>

      <!-- Color -->
      <div class="form-group">
        <label for="inv_color">Color</label>
        <input 
          type="text" 
          id="inv_color" 
          name="inv_color" 
          required 
          pattern="[A-Za-z ]+" 
          title="Only alphabetic characters are allowed."
          placeholder="Enter the color"
          value ="<%= locals.inv_color %>">
      </div>

      <button type="submit" class="login-btn">Submit</button>
    </form>
</div>